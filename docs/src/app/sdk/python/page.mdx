export const metadata = {
  title: 'Python SDK',
  description:
    'Reference documentation for the Surfer Protocol Python SDK.',
}

# Python SDK

The Surfer Protocol Python SDK provides a simple interface to interact with the Surfer-Data desktop application.

## Prerequisites

1. **Desktop Application**: The Surfer desktop application must be running in the background for the SDK to work.
   - Download the [desktop app](http://localhost:3000/desktop/installation) or the [GitHub releases page](https://github.com/Surfer-Org/Protocol/releases)
   - Install and run the application
   - The app can be minimized to the system tray and continue running in the background

> Note: The desktop app runs a local server on port 2024 that the SDK communicates with. Make sure the app is running before using the SDK.

## Installation

<CodeGroup>

```bash
pip install surfer-protocol
```

</CodeGroup>

## Quick Start

<CodeGroup>

```python
from surfer_protocol import SurferClient

# Initialize the client
client = SurferClient()

# Get data for a specific platform
data = client.get("bookmarks-001")

# Export data for a platform
export_result = client.export("bookmarks-001")
```

</CodeGroup>

## API Reference

### SurferClient

The main client class for interacting with the Surfer Protocol desktop application.

```python
from surfer_protocol import SurferClient

client = SurferClient()
```

### Methods

#### `get(platform_id: str) -> dict`
Retrieves the most recent data for a specific platform.

```python
# Get Twitter bookmarks
bookmarks = client.get("bookmarks-001")

# Get Gmail data
emails = client.get("gmail-001")

# Get iMessage data
messages = client.get("imessage-001")
```

#### `export(platform_id: str) -> dict`
Triggers a new export for a specific platform.

```python
export_result = client.export("bookmarks-001")
```

## Platform IDs

The following platform IDs are currently supported:
- `bookmarks-001`: Twitter bookmarks
- `gmail-001`: Gmail messages
- `imessage-001`: iMessage conversations
- `connections-001`: LinkedIn connections
- `notion-001`: Notion workspace
- `chatgpt-001`: ChatGPT history

## Response Schemas

All API responses follow a standard format:

```python
{
    "company": str,        # Company name
    "name": str,          # Platform name
    "runID": str,        # Unique export identifier
    "timestamp": int,    # Unix timestamp of export
    "content": List[Dict] # Platform-specific data
}
```

> To view the full schema for each platform, see the [platforms page](/desktop/platforms) and choose the platform you're interested in.

## Example Applications

### Streamlit Chatbot

Full code: <a target="_blank" href="https://github.com/Surfer-Org/Protocol/blob/main/sdk/python/cookbook/streamlit-chatbot/app.py">Streamlit Chatbot</a>

Create a Streamlit chatbot that uses Weaviate and OpenAI to analyze your Surfer data:

<iframe
  width="100%"
  height="400"
  src="https://www.youtube.com/embed/hxLKQQhHoD4"
  title="Streamlit Chatbot Demo"
  frameBorder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
  allowFullScreen
></iframe>


### Knowledge Graph

Turn your Surfer data into a knowledge graph.

Full code: <a target="_blank" href="https://github.com/Surfer-Org/Protocol/blob/main/sdk/python/cookbook/knowledge-graph/app.py">Knowledge Graph</a>

### AI Training

Train an AI model off of your Surfer data.

Full code: <a target="_blank" href="https://github.com/Surfer-Org/Protocol/blob/main/sdk/python/cookbook/ai-training/app.py">AI Training</a>

## Error Handling

The SDK includes built-in error handling for common scenarios:

```python
try:
    client = SurferClient()
    data = client.get("bookmarks-001")
except ConnectionError as e:
    print("Failed to connect to Surfer desktop app. Is it running?")
except Exception as e:
    print(f"An unexpected error occurred: {e}")
```

## Best Practices

1. **Connection Management**: The client automatically manages the connection and cleans up resources when destroyed.
2. **Error Handling**: Always wrap API calls in try-except blocks to handle potential connection issues.
3. **Resource Efficiency**: Reuse the same client instance for multiple operations instead of creating new instances.
